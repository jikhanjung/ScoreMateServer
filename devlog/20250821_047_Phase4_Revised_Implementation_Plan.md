# Phase 4 계획: 데이터 품질 강화 및 사용성 개선 (수정안)

**작성일**: 2025년 8월 21일  
**작성자**: Gemini  
**상태**: 계획 확정

## 1. 개요

이전 계획(`046`)에 대한 사용자 피드백을 반영하여, 현재 프로젝트 상황에 가장 실질적인 가치를 제공하는 방향으로 Phase 4 계획을 수정합니다. AI 기반 기능이나 저작권 이슈가 있는 기능 대신, **데이터의 품질을 사용자가 직접 향상시키고, 대용량 데이터 환경에서의 사용성을 개선**하는 데 집중합니다.

## 2. 핵심 목표

*   **데이터 신뢰도 확보**: 사용자가 직접 악보 메타데이터를 편집할 수 있는 도구를 제공하여, 향후 고급 검색 기능의 기반을 마련합니다.
*   **사용자 편의성 증대**: 여러 악보의 정보를 일괄적으로 수정하는 기능을 통해 라이브러리 관리 효율을 높입니다.
*   **애플리케이션 성능 향상**: 대용량 악보 목록에서도 부드럽고 빠른 탐색 경험을 제공합니다.
*   **UI 완성도 제고**: 애플리케이션 전반의 마감새를 다듬어 프로덕션 수준의 완성도를 갖춥니다.

## 3. 주요 Task 및 세부 구현 계획

### **Task 1: 수동 메타데이터 관리 기능**

**목표**: 사용자가 직접 악보의 메타데이터(제목, 작곡가, 태그 등)를 손쉽게 편집하고, 여러 악보를 한 번에 정리할 수 있는 기능을 제공합니다.

*   **1.1: 개별 악보 정보 편집 기능**
    *   **위치**: 악보 상세 페이지 (`/scores/[id]`)
    *   **구현**: '정보 수정' 버튼과 편집 가능한 폼(Form)을 추가합니다. 사용자는 이 폼을 통해 곡의 제목, 작곡가, 태그 및 기타 필드를 수정하고 저장할 수 있습니다.

*   **1.2: 일괄 메타데이터 편집 기능**
    *   **위치**: 악보 목록 페이지 (`/scores`)
    *   **구현**: Phase 3에서 구현된 '벌크 액션' 시스템을 확장합니다. 여러 악보를 선택한 후, '태그 일괄 추가/제거'와 같은 공통 작업을 수행할 수 있는 기능을 추가합니다.

*   **1.3: 테스트**
    *   개별 및 일괄 편집 기능에 대한 단위 테스트와 E2E 테스트를 작성하여 데이터가 정확하게 수정되고 반영되는지 검증합니다.

### **Task 2: 성능 최적화 (무한 스크롤)**

**목표**: 수백 개 이상의 악보를 가진 사용자가 목록을 탐색할 때도 끊김 없는 부드러운 경험을 제공합니다.

*   **2.1: 무한 스크롤 구현**
    *   백엔드 API의 페이지네이션(`pagination`)을 활용하여 프론트엔드의 `useScores` 훅을 수정합니다.
    *   `react-query`의 `useInfiniteQuery`를 도입하여 데이터 로딩 및 캐시 관리를 최적화합니다.
    *   악보 목록 페이지의 기존 페이지네이션 UI를, 사용자가 페이지 하단으로 스크롤하면 다음 페이지의 악보를 자동으로 불러오는 방식으로 변경합니다.

*   **2.2: 테스트**
    *   무한 스크롤이 정확하게 동작하고, 모든 항목이 중복이나 누락 없이 로드되는지 E2E 테스트를 통해 검증합니다.

### **Task 3: UI/UX 완성도 향상**

**목표**: 현재까지 개발된 기능들을 더 사용하기 편하게 다듬고, 비어있는 화면 등 세세한 부분의 완성도를 높입니다.

*   **3.1: "Empty State" 컴포넌트 구현**
    *   악보 목록, 세트리스트, 검색 결과 등이 비어있을 때 표시될 컴포넌트를 디자인하고 구현합니다. (예: "아직 추가된 악보가 없습니다. 첫 악보를 업로드해보세요!")

*   **3.2: 로딩 및 에러 피드백 개선**
    *   데이터를 불러오는 중임을 알리는 로딩 스피너의 위치와 디자인을 개선합니다.
    *   API 요청 실패 등 에러 발생 시, 사용자에게 상황을 명확히 알려주는 토스트 메시지나 경고창을 개선합니다.

*   **3.3: 테스트**
    *   Empty State가 정확한 조건에서 표시되는지 테스트합니다.
    *   의도적으로 에러를 발생시켜 에러 피드백이 정상적으로 표시되는지 확인하는 테스트를 추가합니다.

## 4. 예상 타임라인

*   **Task 1 (수동 메타데이터 관리):** 1.5주
*   **Task 2 (성능 최적화):** 1주
*   **Task 3 (UI/UX 완성도 향상):** 1.5주
*   **총 예상 기간:** 약 4주

## 5. 다음 단계

1.  본 최종 수정 계획을 기준으로 **Task 1: 수동 메타데이터 관리 기능**부터 개발을 시작합니다.
